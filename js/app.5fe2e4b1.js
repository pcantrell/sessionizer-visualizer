(function(t){function e(e){for(var n,o,a=e[0],c=e[1],u=e[2],h=0,f=[];h<a.length;h++)o=a[h],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&f.push(i[o][0]),i[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(f.length)f.shift()();return r.push.apply(r,u||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],n=!0,a=1;a<s.length;a++){var c=s[a];0!==i[c]&&(n=!1)}n&&(r.splice(e--,1),t=o(o.s=s[0]))}return t}var n={},i={app:0},r=[];function o(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=n,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(s,n,function(e){return t[e]}.bind(null,n));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/sessionizer-visualizer/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var l=c;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("cd49")},"072e":function(t,e,s){"use strict";s("4054")},"17ac":function(t,e,s){},4054:function(t,e,s){},"54c1":function(t,e,s){},"5c0b":function(t,e,s){"use strict";s("e332")},"8eb9":function(t,e,s){},be3d:function(t,e,s){"use strict";s("54c1")},cd49:function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var n=s("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("ScheduleGrid",{attrs:{schedule:t.schedule,options:t.options,optimizerResult:t.annealer.bestResult}}),s("ComplaintPairs",{attrs:{schedule:t.schedule,options:t.options}}),s("div",{staticClass:"control-panel"},[s("button",{on:{click:function(e){return t.schedule.clear()}}},[t._v("clear")]),s("button",{on:{click:function(e){return t.schedule.randomizeSlots()}}},[t._v("rand slots")]),s("button",{on:{click:function(e){return t.schedule.randomizeVotes()}}},[t._v("rand votes")]),s("Toggle",{attrs:{label:"pairs"},model:{value:t.options.showPairs,callback:function(e){t.$set(t.options,"showPairs",e)},expression:"options.showPairs"}}),s("Toggle",{attrs:{label:"naive"},model:{value:t.options.showNaiveScores,callback:function(e){t.$set(t.options,"showNaiveScores",e)},expression:"options.showNaiveScores"}}),s("Toggle",{attrs:{label:"focused shape"},model:{value:t.options.showFocusedShape,callback:function(e){t.$set(t.options,"showFocusedShape",e)},expression:"options.showFocusedShape"}}),s("Toggle",{attrs:{label:"mini shapes"},model:{value:t.options.showMiniShapes,callback:function(e){t.$set(t.options,"showMiniShapes",e)},expression:"options.showMiniShapes"}}),s("Toggle",{attrs:{label:"focused rank"},model:{value:t.options.showRanking,callback:function(e){t.$set(t.options,"showRanking",e)},expression:"options.showRanking"}}),s("button",{on:{click:function(e){return t.schedule.randomizeRanks()}}},[t._v("rand rank")]),s("Toggle",{attrs:{label:"scores"},model:{value:t.options.showShapeScores,callback:function(e){t.$set(t.options,"showShapeScores",e)},expression:"options.showShapeScores"}}),s("button",{class:{running:t.annealer.running},on:{click:function(e){return t.annealer.toggle()}}},[t._v("anneal")]),t.annealer.running?s("div",{staticClass:"annealer-state"},[s("ProgressBar",{staticClass:"annealer-progress",attrs:{progress:t.annealer.iters/t.annealer.maxIters}}),s("div",{staticClass:"iter-count"},[t._v(t._s(t.annealer.maxIters)+" iters")])],1):t._e()],1),t._m(0),t._m(1),t._m(2)],1)},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hints"},[s("div",{staticClass:"hint"},[t._v("Click on the lower grid to vote for sessions.")]),s("div",{staticClass:"hint"},[t._v("Click on the upper grid to schedule sessions.")]),s("div",{staticClass:"hint"},[t._v("Click a name to focus / unfocus on that participant’s schedule.")]),s("div",{staticClass:"hint"},[t._v("Click “rand slots” and “rand votes” below to generate random schedule/votes.")]),s("div",{staticClass:"hint"},[t._v("Use checkboxes below to analyze the schedule in different ways.")]),s("div",{staticClass:"hint"},[t._v("(Note: “focused shape and “focused rank” are only visible when you select a person.)")]),s("div",{staticClass:"hint"},[t._v("Click “anneal” for a dramatic reenactment of the scheduler in action. Click again to stop.")]),s("div",{staticClass:"hint"},[t._v("(This visualization uses a simplified but representative version of the actual algorithm.)")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"links"},[s("div",{staticClass:"link"},[s("a",{attrs:{href:"https://github.com/pcantrell/sessionizer-visualizer"}},[t._v("Source code for this visualization")])]),s("div",{staticClass:"link"},[s("a",{attrs:{href:"https://www.youtube.com/watch?v=0TvvZyGuC48"}},[t._v("Paul’s 2019 talk on scheduler improvements that explains what you’re seeing here")]),t._v("\n      (audio and video aren’t great; sorry)\n    ")]),s("div",{staticClass:"link"},[s("a",{attrs:{href:"https://youtu.be/QsMWMRzBsG0?t=23"}},[t._v("Paul’s 2014 talk on scheduling with simulated annealing")]),t._v("\n      (uses the “naive” scoring below)\n    ")]),s("div",{staticClass:"link"},[s("a",{attrs:{href:"https://sessions.minnestar.org/events/6/schedule"}},[t._v("Real-life Minnebar schedule")]),t._v(" generated by this algorithm\n    ")]),s("div",{staticClass:"link"},[s("a",{attrs:{href:"https://github.com/minnestar/sessionizer"}},[t._v("Sessionizer source code")])]),s("div",{staticClass:"link"},[s("a",{attrs:{href:"https://github.com/minnestar/sessionizer/tree/master/src/lib/scheduling"}},[t._v("Source code for the real-life scheduler")]),t._v("\n      (warning: may cause eye bleed)\n    ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"opsipod"},[s("a",{staticClass:"imglink",attrs:{href:"https://innig.net"}},[s("div",{staticClass:"innig-logo-mini"})])])}],o=(s("6b54"),s("2397"),s("d225")),a=s("b0b4"),c=s("4e2b"),u=s("308d"),l=s("6bb5"),h=s("9ab4"),f=s("60a3"),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",{class:{"schedule-grid":!0,"focus-enabled":t.focus}},[s("tr",{staticClass:"top-header"},[s("td",{staticClass:"placeholder"}),t._l(t.schedule.sessions,(function(e){return s("th",[t._v("\n        "+t._s(e.name)+"\n    ")])}))],2),t._l(t.schedule.timeslots,(function(e,n){return s("tr",{staticClass:"timeslot"},[s("th",[t._v(t._s(e))]),t._l(t.schedule.sessions,(function(e,i){return s("td",{class:{selected:e.timeslotID===n,focused:e.timeslotID===n&&t.isSessionFocused(i)},on:{click:function(t){e.timeslotID=n}}})})),t.options.showFocusedShape&&t.focus?s("td",{staticClass:"focused placeholder"},[s("div",{staticClass:"big shape-block-row"},t._l(t.schedule.groupedSessions(t.focus)[n],(function(e){return s("div",{staticClass:"big shape-block"},[t.options.showRanking?s("div",{staticClass:"ranking"},[t._v("\n            "+t._s(t.focus.votes.indexOf(t.schedule.sessions.indexOf(e))+1)+"\n          ")]):t._e()])})),0)]):t._e()],2)})),s("tr",{staticClass:"top-header"},[s("td",{staticClass:"placeholder"}),t._l(t.schedule.sessions,(function(e,n){return s("th",{class:{focused:t.isSessionFocused(n)}},[t._v("\n        "+t._s(e.name)+"\n    ")])}))],2),t._l(t.schedule.participants,(function(e){return s("tr",{class:{participant:!0,focused:t.focus===e}},[s("th",{on:{click:function(s){return t.toggleFocus(e)}}},[t._v("\n      "+t._s(e.name)+"\n    ")]),t._l(t.schedule.sessions,(function(n,i){return s("td",{class:{vote:!0,selected:e.votes.includes(i)},on:{click:function(t){return e.toggleVote(i)}}},[t._v("\n      "+t._s(t.schedule.timeslots[n.timeslotID])+"\n    ")])})),t.options.showNaiveScores?[s("td",{staticClass:"scoring numeric naive"},[t._v("\n        "+t._s(t.schedule.naiveScore(e))+"\n      ")]),s("td",{staticClass:"scoring numeric naive naive-percent"},[e.votes.length>0?s("span",[t._v("\n          "+t._s(t.schedule.naivePercent(e))+"%\n        ")]):t._e()])]:t._e(),t.options.showMiniShapes?s("td",{staticClass:"scoring"},t._l(t.schedule.timeslots,(function(n,i){return s("div",{staticClass:"small shape-block-row"},t._l(t.schedule.groupedSessions(e)[i],(function(t){return s("div",{staticClass:"small shape-block"})})),0)})),0):t._e(),t.options.showShapeScores?[s("td",{staticClass:"scoring numeric shape"},[t._v("\n        "+t._s(t.formatFixed(t.schedule.shapeScore(e),3))+"\n      ")])]:t._e()],2)})),s("tr",{staticClass:"totals"},[s("td",{staticClass:"placeholder"}),t._l(t.schedule.sessions,(function(e,n){return s("td",[t._v("\n      "+t._s(t.schedule.voteCount(n))+"\n    ")])})),t.options.showNaiveScores?[s("td",{staticClass:"scoring numeric naive"},[t._v("\n        "+t._s(t.formatFixed(t.schedule.averageScore(t.schedule.naiveScore),1))+"\n      ")]),s("td",{staticClass:"scoring numeric naive naive-percent"},[t._v("\n        "+t._s(t.formatFixed(t.schedule.averageScore(t.schedule.naivePercent),0))+"%\n      ")])]:t._e(),t.options.showMiniShapes?s("td",{staticClass:"placeholder"}):t._e(),t.options.showShapeScores?[s("td",{staticClass:"scoring numeric shape"},[t._v("\n        "+t._s(t.formatFixed(t.schedule.averageScore(t.schedule.shapeScore),3))+"\n        "),t.optimizerResult?s("div",{staticClass:"best"},[s("div",{staticClass:"side-label"},[t._v("\n            "+t._s(t.optimizerResult.isOptimal?"Found optimal":"Best so far")+":\n          ")]),s("div",{class:{score:!0,"new-best-score":t.newBestScore}},[t._v("\n            "+t._s(t.formatFixed(t.optimizerResult.score,3))+"\n          ")])]):t._e()])]:t._e()],2)],2)},p=[];s("6762"),s("2fdb");function v(t){var e=m();return function(){var s,n=Object(l["a"])(t);if(e){var i=Object(l["a"])(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return Object(u["a"])(this,s)}}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var b=function(t){Object(c["a"])(s,t);var e=v(s);function s(){var t;return Object(o["a"])(this,s),t=e.apply(this,arguments),t.focus=null,t.newBestScore=!1,t}return Object(a["a"])(s,[{key:"toggleFocus",value:function(t){this.focus=this.focus===t?null:t}},{key:"isSessionFocused",value:function(t){return this.focus&&this.focus.votes.includes(t)||!1}},{key:"formatFixed",value:function(t,e){if(t)return t.toFixed(e)}},{key:"onNewBestScore",value:function(t,e){var s=this;e&&t&&(this.newBestScore=!1,setTimeout((function(){return s.newBestScore=!0}),.01))}}]),s}(f["c"]);Object(h["a"])([Object(f["b"])()],b.prototype,"schedule",void 0),Object(h["a"])([Object(f["b"])()],b.prototype,"options",void 0),Object(h["a"])([Object(f["b"])()],b.prototype,"optimizerResult",void 0),Object(h["a"])([Object(f["d"])("optimizerResult")],b.prototype,"onNewBestScore",null),b=Object(h["a"])([f["a"]],b);var y=b,g=y,_=(s("d485"),s("2877")),O=Object(_["a"])(g,d,p,!1,null,"785bfad8",null),S=O.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.options.showPairs?s("div",{staticClass:"complaint-pairs"},t._l(t.schedule.participants,(function(e){return s("div",t._l(t.schedule.groupedSessions(e),(function(n){return s("div",t._l(n,(function(i,r){return s("div",t._l(n.slice(r+1),(function(n){return s("div",{staticClass:"complaint"},[t._v("\n          ☹️ "),s("b",[t._v(t._s(e.name))]),t._v(": "+t._s(i.name)+" vs "+t._s(n.name)+"\n        ")])})),0)})),0)})),0)})),0):t._e()},j=[];function w(t){var e=C();return function(){var s,n=Object(l["a"])(t);if(e){var i=Object(l["a"])(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return Object(u["a"])(this,s)}}function C(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var x=function(t){Object(c["a"])(s,t);var e=w(s);function s(){return Object(o["a"])(this,s),e.apply(this,arguments)}return s}(f["c"]);Object(h["a"])([Object(f["b"])()],x.prototype,"schedule",void 0),Object(h["a"])([Object(f["b"])()],x.prototype,"options",void 0),x=Object(h["a"])([f["a"]],x);var R=x,I=R,M=(s("be3d"),Object(_["a"])(I,k,j,!1,null,"649c84fc",null)),P=M.exports,D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[s("input",{attrs:{type:"checkbox",id:t.id},domProps:{checked:t.value},on:{change:function(e){return t.$emit("input",e.target.checked)}}}),s("label",{attrs:{for:t.id}},[t._v(t._s(t.label))])])},T=[];function z(t){var e=F();return function(){var s,n=Object(l["a"])(t);if(e){var i=Object(l["a"])(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return Object(u["a"])(this,s)}}function F(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var $=function(t){Object(c["a"])(s,t);var e=z(s);function s(){var t;return Object(o["a"])(this,s),t=e.apply(this,arguments),t.id="toggle-"+Math.random(),t}return s}(f["c"]);Object(h["a"])([Object(f["b"])()],$.prototype,"value",void 0),Object(h["a"])([Object(f["b"])()],$.prototype,"label",void 0),$=Object(h["a"])([f["a"]],$);var N=$,E=N,B=(s("072e"),Object(_["a"])(E,D,T,!1,null,"a49e63dc",null)),A=B.exports,V=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"progress-bar"},[s("div",{staticClass:"progress-meter",style:{width:(100*this.progress).toFixed(1)+"%"}})])},G=[];function L(t){var e=J();return function(){var s,n=Object(l["a"])(t);if(e){var i=Object(l["a"])(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return Object(u["a"])(this,s)}}function J(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var U=function(t){Object(c["a"])(s,t);var e=L(s);function s(){return Object(o["a"])(this,s),e.apply(this,arguments)}return s}(f["c"]);Object(h["a"])([Object(f["b"])()],U.prototype,"progress",void 0),U=Object(h["a"])([f["a"]],U);var H=U,Q=H,W=(s("d5c7"),Object(_["a"])(Q,V,G,!1,null,"46fb22b0",null)),Y=W.exports,Z=(s("ac6a"),s("ac4d"),s("8a81"),s("5df3"),s("1c4c"),s("7f7f"),function t(e){Object(o["a"])(this,t),this.timeslotID=void 0,this.name=e}),q=function(){function t(e){Object(o["a"])(this,t),this.votes=[],this.name=e}return Object(a["a"])(t,[{key:"toggleVote",value:function(t){this.votes.includes(t)?this.votes=this.votes.filter((function(e){return e!==t})):this.votes.push(t)}}]),t}(),K=function(){function t(){Object(o["a"])(this,t)}return Object(a["a"])(t,null,[{key:"randomIntLessThan",value:function(t){return Math.floor(Math.random()*t)}},{key:"randomInt",value:function(t,e){return this.randomIntLessThan(e-t)+t}},{key:"shuffle",value:function(t){var e=this;t.forEach((function(s,n){var i=e.randomInt(n,t.length),r=[t[i],t[n]];t[n]=r[0],t[i]=r[1]})),t.push(t.pop())}},{key:"sample",value:function(t){return t[this.randomIntLessThan(t.length)]}}]),t}();function X(t,e){var s;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(s=tt(t))||e&&t&&"number"===typeof t.length){s&&(t=s);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,a=!1;return{s:function(){s=t[Symbol.iterator]()},n:function(){var t=s.next();return o=t.done,t},e:function(t){a=!0,r=t},f:function(){try{o||null==s.return||s.return()}finally{if(a)throw r}}}}function tt(t,e){if(t){if("string"===typeof t)return et(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?et(t,e):void 0}}function et(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}var st=function(){function t(e){Object(o["a"])(this,t),this.participants=e.participants.map((function(t){return new q(t)})),this.sessions=e.sessions.map((function(t){return new Z(t)})),this.timeslots=e.timeslots}return Object(a["a"])(t,[{key:"randomizeSlots",value:function(){var t,e=X(this.sessions);try{for(e.s();!(t=e.n()).done;){var s=t.value;s.timeslotID=Math.floor(Math.random()*this.timeslots.length)}}catch(n){e.e(n)}finally{e.f()}}},{key:"randomizeVotes",value:function(){var t,e=this,s=X(this.participants);try{var n=function(){var s=t.value,n=.5*Math.random()+.1;s.votes=e.sessions.map((function(t,e){return e})).filter((function(t){return Math.random()<n}))};for(s.s();!(t=s.n()).done;)n()}catch(i){s.e(i)}finally{s.f()}}},{key:"randomizeRanks",value:function(){var t,e=X(this.participants);try{for(e.s();!(t=e.n()).done;){var s=t.value;K.shuffle(s.votes)}}catch(n){e.e(n)}finally{e.f()}}},{key:"clear",value:function(){var t,e=X(this.sessions);try{for(e.s();!(t=e.n()).done;){var s=t.value;s.timeslotID=void 0}}catch(o){e.e(o)}finally{e.f()}var n,i=X(this.participants);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.votes=[]}}catch(o){i.e(o)}finally{i.f()}}},{key:"groupedSessions",value:function(t){var e,s=this.timeslots.map((function(t){return[]})),n=X(t.votes);try{for(n.s();!(e=n.n()).done;){var i=e.value,r=this.sessions[i];r&&void 0!==r.timeslotID&&s[r.timeslotID].push(r)}}catch(o){n.e(o)}finally{n.f()}return s}},{key:"voteCount",value:function(t){return this.participants.filter((function(e){return e.votes.includes(t)})).length}},{key:"isOptimal",value:function(){var t,e=X(this.participants);try{for(e.s();!(t=e.n()).done;){var s,n=t.value,i=1/0,r=0,o=X(this.groupedSessions(n));try{for(o.s();!(s=o.n()).done;){var a=s.value;if(i=Math.min(i,a.length),r=Math.max(r,a.length),r-i>1)return!1}}catch(c){o.e(c)}finally{o.f()}}}catch(c){e.e(c)}finally{e.f()}return!0}},{key:"naiveScore",value:function(t){return this.groupedSessions(t).filter((function(t){return t.length>0})).length}},{key:"naivePercent",value:function(t){return Math.round(this.naiveScore(t)/t.votes.length*100)}},{key:"shapeScore",value:function(t){var e=t.votes.length;if(0===e)return null;var s,n=0,i=X(this.groupedSessions(t));try{for(i.s();!(s=i.n()).done;){var r=s.value;n+=2*r.length/(e*(r.length+1))}}catch(o){i.e(o)}finally{i.f()}return n}},{key:"averageScore",value:function(t){var e,s=0,n=0,i=X(this.participants);try{for(i.s();!(e=i.n()).done;){var r=e.value,o=t.bind(this)(r);o&&!isNaN(o)&&(s+=o,n+=1)}}catch(a){i.e(a)}finally{i.f()}return 0===n?null:s/n}}]),t}(),nt=function t(){Object(o["a"])(this,t),this.showNaiveScores=!1,this.showFocusedShape=!1,this.showMiniShapes=!1,this.showRanking=!1,this.showPairs=!1,this.showShapeScores=!1},it=function(){function t(e,s){Object(o["a"])(this,t),this.running=!1,this.iters=0,this.maxIters=0,this.maxIterCycleStart=50,this.maxIterCycleEnd=5e3,this.schedule=e,this.maxIters=s.maxIters}return Object(a["a"])(t,[{key:"clear",value:function(){n["a"].set(this,"bestResult",void 0)}},{key:"toggle",value:function(){this.running?this.stop():this.start()}},{key:"start",value:function(){this.maxIters=this.maxIterCycleStart,this.startNextCycle()}},{key:"startNextCycle",value:function(){this.bestResult&&this.bestResult.isOptimal?stop():(this.running=!0,this.iters=0,this.step())}},{key:"stop",value:function(){var t=this;this.running=!1,this.bestResult&&this.bestResult.schedule.forEach((function(e,s){t.schedule.sessions[s].timeslotID=e}))}},{key:"step",value:function(){var t=this;if(this.running){var e=this.schedule.averageScore(this.schedule.shapeScore)||0,s=K.sample(this.schedule.sessions),n=s.timeslotID;s.timeslotID=K.randomIntLessThan(this.schedule.timeslots.length);var i=this.schedule.averageScore(this.schedule.shapeScore)||0;if(!this.bestResult||i>this.bestResult.score){if(this.bestResult={score:i,isOptimal:this.schedule.isOptimal(),schedule:this.extractTimeslotIDs()},this.bestResult.isOptimal)return void this.stop()}else this.shouldTransition(e,i)||(s.timeslotID=n);if(this.iters+=1,this.iters>this.maxIters){if(this.stop(),this.maxIters=Math.round(3*this.maxIters/2),this.maxIters>this.maxIterCycleEnd){while(this.maxIters>this.maxIterCycleStart)this.maxIters=Math.round(this.maxIters/2);this.maxIters*=2}this.startNextCycle()}setTimeout((function(){return t.step()}),1)}}},{key:"shouldTransition",value:function(t,e){return Math.exp((e-t)/this.currentTemperature)>Math.random()}},{key:"extractTimeslotIDs",value:function(){return this.schedule.sessions.map((function(t){return t.timeslotID}))}},{key:"currentTemperature",get:function(){return Math.exp(-this.iters/this.maxIters*10)}}]),t}();function rt(t){var e=ot();return function(){var s,n=Object(l["a"])(t);if(e){var i=Object(l["a"])(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return Object(u["a"])(this,s)}}function ot(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var at=function(t){Object(c["a"])(s,t);var e=rt(s);function s(){var t;return Object(o["a"])(this,s),t=e.call(this),t.schedule=new st({participants:["Sally","Fred","Irene","Harry","Prudence","Juan","Vicky","Yusuf","Alvin"],sessions:["👻","👾","🦷","👣","🧚🏽‍♀️","🐋","🌈","🌮","🧿","🧷","💃🏻","🧩"],timeslots:["1:00","2:00","3:00","4:00"]}),t.options=new nt,t.annealer=new it(t.schedule,{maxIters:1e3}),setTimeout((function(){}),.2),t}return Object(a["a"])(s,[{key:"onVotesChanged",value:function(t,e){this.annealer.clear()}}]),s}(f["c"]);Object(h["a"])([Object(f["d"])("schedule.participants",{deep:!0})],at.prototype,"onVotesChanged",null),at=Object(h["a"])([Object(f["a"])({components:{ScheduleGrid:S,ComplaintPairs:P,Toggle:A,ProgressBar:Y}})],at);var ct=at,ut=ct,lt=(s("5c0b"),Object(_["a"])(ut,i,r,!1,null,null,null)),ht=lt.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(ht)}}).$mount("#app")},d485:function(t,e,s){"use strict";s("17ac")},d5c7:function(t,e,s){"use strict";s("8eb9")},e332:function(t,e,s){}});
//# sourceMappingURL=app.5fe2e4b1.js.map